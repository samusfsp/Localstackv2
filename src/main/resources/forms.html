<!DOCTYPE html>
<html>
<head>
    <title>Upload para o Amazon S3</title>
</head>
<body>
<h1>Enviar arquivo para o Amazon S3</h1>
<form id="uploadForm" method="POST" enctype="multipart/form-data">
    <label for="bucket">Nome do Bucket:</label>
    <input type="text" name="bucket" id="bucket" required><br><br>
    <input type="file" name="file">
    <input type="submit" value="Enviar">
</form>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const form = document.getElementById("uploadForm");
        form.addEventListener("submit", function (event) {
            event.preventDefault(); // Evita o envio automático do formulário

            const bucketName = document.getElementById("bucket").value;
            const actionURL = `http://localhost:8080/api/s3/upload-object/${bucketName}`;
            form.action = actionURL;

            // Agora, o formulário está configurado para enviar para o URL correto com o nome do bucket preenchido.
            // Você pode adicionar lógica adicional para validar o nome do bucket, se necessário.

            // Envie o formulário
            form.submit();
        });
    });
</script>

</body>
</html>
